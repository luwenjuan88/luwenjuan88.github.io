<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.12.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="微信: 13246411679">
<meta property="og:type" content="website">
<meta property="og:title" content="卢文娟">
<meta property="og:url" content="http://example.com/page/7/index.html">
<meta property="og:site_name" content="卢文娟">
<meta property="og:description" content="微信: 13246411679">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="卢文娟">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/7/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/7/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>卢文娟</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">卢文娟</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">元宇宙，区块链，币圈知识分享，关注我公众号：元宇宙探索之旅</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-每日任务"><a href="/dailytask/" rel="section"><i class="fa fa-calendar fa-fw"></i>每日任务</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="卢文娟"
      src="/images/luwenjuan.jpeg">
  <p class="site-author-name" itemprop="name">卢文娟</p>
  <div class="site-description" itemprop="description">微信: 13246411679</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">91</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">27</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/18/%E5%85%83%E5%AE%87%E5%AE%99/M8-%E5%85%83%E5%AE%87%E5%AE%99%E9%81%93%E5%BE%B7%E7%BB%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/luwenjuan.jpeg">
      <meta itemprop="name" content="卢文娟">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="卢文娟">
      <meta itemprop="description" content="微信: 13246411679">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 卢文娟">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/18/%E5%85%83%E5%AE%87%E5%AE%99/M8-%E5%85%83%E5%AE%87%E5%AE%99%E9%81%93%E5%BE%B7%E7%BB%8F/" class="post-title-link" itemprop="url">元宇宙初探：元宇宙越来越接近自然的道了</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-18 15:21:41" itemprop="dateCreated datePublished" datetime="2022-07-18T15:21:41+08:00">2022-07-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-08-25 20:18:29" itemprop="dateModified" datetime="2022-08-25T20:18:29+08:00">2022-08-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%85%83%E5%AE%87%E5%AE%99/" itemprop="url" rel="index"><span itemprop="name">元宇宙</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    <a title="元宇宙初探：元宇宙越来越接近自然的道了" href="/2022/07/18/%E5%85%83%E5%AE%87%E5%AE%99/M8-%E5%85%83%E5%AE%87%E5%AE%99%E9%81%93%E5%BE%B7%E7%BB%8F/#SOHUCS" itemprop="discussionUrl">
      <span id="sourceId::eabc851857bd4a5eab30393d07d69462" class="cy_cmt_count" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>今天看《道德经》，看到一段话：</p>
<blockquote>
<p>大道祀兮，其可左右</p>
<p>万物恃之以生而不辞，功成而不有，衣养万物而不为主</p>
<p>常无欲，可名于小，万物归焉而不为主，可名为大</p>
<p>以其终不自为大，故能成其大</p>
</blockquote>
<p>大道无处不在，万物依赖它生长，它也不会推辞，生养万物，但是不居功。</p>
<p>这一段描述让我想到了区块链。</p>
<p>区块链是承载<strong>元宇宙万物</strong>的东西，而区块链不归属于任何一个人，而是由一个一个区块链节点组成，节点的运行依靠着成千上万的矿工，这些矿工自发的为区块链服务。</p>
<p>不管是数据，还是智能合约，都由一个一个区块组成的区块链承载着，这种特性，<strong>和“道”简直太像了</strong>。</p>
<blockquote>
<p>区块链是元宇宙的基石</p>
<p>元宇宙所有的数据和应用都依赖于区块链</p>
<p>区块链让元宇宙生态更自由的组织和蓬勃的发展</p>
<p>区块链不属于任何一个人或者私人组织</p>
<p>元宇宙所有资产属于它的拥有者，而不属于区块链</p>
<p>用户想使用区块链为自己做一件事，需要付燃油费（给那个执行命令的矿工），这是合理的</p>
</blockquote>
<p>也难怪区块链上的自组织结构叫做“<strong>DAO</strong>”了。</p>
<p>这里又不得不说说现在的互联网，毕竟对比了才知道不同：</p>
<blockquote>
<p>在互联网中：</p>
<p>平台属于某一个组织，或者某个个人</p>
<p>用户确实需要使用平台来让生活更加便利</p>
<p>用户的数据归属于平台，未来数据产生的价值也属于平台</p>
<p>平台让用户只能选这个平台，并设定规则让用户吃不饱饿不死（垄断）</p>
</blockquote>
<p>所以，在互联网中，是中心化的结构，很容易形成垄断，让<strong>强者更强，弱者更弱</strong>；</p>
<p>而在元宇宙中，是去中心化结构，在这里可以百花齐放，个体都能够实现价值变现；</p>
<p>学经也有一句话：</p>
<blockquote>
<p>人世之害，在于抑弱护强，假弱护强</p>
<p>故弱者愈弱，强者愈强，犹如削船载木，终船毀木散</p>
</blockquote>
<p>如果中心化造成了弱者越弱，强者越强，是不利于发展的，所以这是中心化的弊端。</p>
<p>这也是为什么去中心化的区块链技术在08年就已经有了，直到现在才真正火起来。是因为那个时候还<strong>没有感受到中心化的弊端（当然不止垄断）</strong>，而等到互联网发展到了现在的样子，大家对去中心化有了急迫的需求，于是就看到了区块链元宇宙的潜力。</p>
<p>区块链技术是让元宇宙这个虚拟世界，有了现实的“<strong>道</strong>”的技术。</p>
<p>元宇宙是<strong>虚拟世界的现实化</strong>，就是因为虚拟世界<strong>加上了区块链</strong>，让它有了现实宇宙的道，才能<strong>做到现实化</strong>。</p>
<p>不知道你有没有发现，互联网发展着发展着，它逐渐接近了中国的智慧，逐渐接近了古代先贤的道。</p>
<p>中国的智慧是所有的，不管是科技，人文，哲学都在<strong>逐渐无限接近的目标</strong>，懂了道才真正懂元宇宙，元宇宙必然是中国的智慧遍地开花的土壤，也是高智慧人群畅游的海洋，我们拭目以待。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/18/%E5%85%83%E5%AE%87%E5%AE%99/M9-%E5%85%83%E5%AE%87%E5%AE%99%E5%B8%A6%E6%9D%A5%E7%9A%84%E5%A5%BD%E5%A4%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/luwenjuan.jpeg">
      <meta itemprop="name" content="卢文娟">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="卢文娟">
      <meta itemprop="description" content="微信: 13246411679">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 卢文娟">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/18/%E5%85%83%E5%AE%87%E5%AE%99/M9-%E5%85%83%E5%AE%87%E5%AE%99%E5%B8%A6%E6%9D%A5%E7%9A%84%E5%A5%BD%E5%A4%84/" class="post-title-link" itemprop="url">元宇宙初探：元宇宙能给我们带来什么好处？</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-18 15:21:41" itemprop="dateCreated datePublished" datetime="2022-07-18T15:21:41+08:00">2022-07-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-08-25 20:21:06" itemprop="dateModified" datetime="2022-08-25T20:21:06+08:00">2022-08-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%85%83%E5%AE%87%E5%AE%99/" itemprop="url" rel="index"><span itemprop="name">元宇宙</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    <a title="元宇宙初探：元宇宙能给我们带来什么好处？" href="/2022/07/18/%E5%85%83%E5%AE%87%E5%AE%99/M9-%E5%85%83%E5%AE%87%E5%AE%99%E5%B8%A6%E6%9D%A5%E7%9A%84%E5%A5%BD%E5%A4%84/#SOHUCS" itemprop="discussionUrl">
      <span id="sourceId::512075263e0200a1a01d96e204cc4af9" class="cy_cmt_count" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>今天出去了一趟，和别人一起喝茶聊天。</p>
<p>聊天中，对方问了我一个问题：“元宇宙能给我们带来什么好处？”。</p>
<p>我一瞬间没反应过来，因为和别人问的套路都不一样，别人一般会问：“元宇宙是什么？”，“元宇宙怎么这么火？”</p>
<p>最主要是因为，元宇宙能带来的东西太多了，它不是一个产品，去解决某个问题或者需求；而是因为底层的改变，几乎能把整个世界逻辑翻一遍，就像web2当初也改变了所有人的生活方式一样，所以不知道从哪里说起。</p>
<p>我要是只说它带来的某些好处，可能以偏概全，它本就不是因为某个需求而开发出来的产品，而是因为大家有某些需求</p>
<p>我打算今天的文章里面说一部分，其他的留着以后慢慢讲。</p>
<p>这是之前我画过的图：</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16559088469045.png"></p>
<p>今天我把这个图细化一下：</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16559122019844.png"></p>
<p>有点匆忙，今天也没时间了，部分细节可能不太准确，但是能表达一些我想表达的东西。</p>
<p>之所以元宇宙几乎会改变大家的生活工作方式，以及带来一系列好处，就是因为底层的区块链技术带来的结果。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/18/%E5%85%83%E5%AE%87%E5%AE%99/N5-%E6%89%B9%E9%87%8F%E7%94%9F%E4%BA%A7NFT/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/luwenjuan.jpeg">
      <meta itemprop="name" content="卢文娟">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="卢文娟">
      <meta itemprop="description" content="微信: 13246411679">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 卢文娟">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/18/%E5%85%83%E5%AE%87%E5%AE%99/N5-%E6%89%B9%E9%87%8F%E7%94%9F%E4%BA%A7NFT/" class="post-title-link" itemprop="url">NFT初探：批量生成NFT说明书</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-18 15:21:41" itemprop="dateCreated datePublished" datetime="2022-07-18T15:21:41+08:00">2022-07-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-08-25 20:18:39" itemprop="dateModified" datetime="2022-08-25T20:18:39+08:00">2022-08-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/NFT/" itemprop="url" rel="index"><span itemprop="name">NFT</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    <a title="NFT初探：批量生成NFT说明书" href="/2022/07/18/%E5%85%83%E5%AE%87%E5%AE%99/N5-%E6%89%B9%E9%87%8F%E7%94%9F%E4%BA%A7NFT/#SOHUCS" itemprop="discussionUrl">
      <span id="sourceId::79721a974a1e5be0f16499ceedde6272" class="cy_cmt_count" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>本文是针对想要进入NFT领域的设计者，以及艺术家。不过我也想告诉更多艺术家们，元宇宙是趋势，你们迟早都是要进入这个领域的，不妨早做打算，也欢迎交流。</p>
<h2 id="第一步：安装环境"><a href="#第一步：安装环境" class="headerlink" title="第一步：安装环境"></a>第一步：安装环境</h2><p><strong>安装python</strong></p>
<p>我把安装包放在坚果云上，直接根据自己的系统版本下载。</p>
<p>链接：<a target="_blank" rel="noopener" href="https://www.jianguoyun.com/p/DbZWOm8Qj9_oBxjmjMUEIAA">https://www.jianguoyun.com/p/DbZWOm8Qj9_oBxjmjMUEIAA</a></p>
<p>下载后双击运行，安装结束后，打开命令行，运行：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">python</span> --<span class="keyword">version</span></span><br></pre></td></tr></table></figure>

<p>看看出来的结果是否是这样：</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16546608244392.png"></p>
<p>如果是的话，说明安装完成。</p>
<p><strong>安装pip</strong></p>
<p>在命令行运行：</p>
<figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">curl</span> <span class="string">https</span>://<span class="string">bootstrap</span>.<span class="string">pypa</span>.<span class="string">io</span>/<span class="built_in">get-pip.py</span> -<span class="string">o</span> <span class="built_in">get-pip.py</span></span><br><span class="line"></span><br><span class="line"><span class="string">python</span> <span class="built_in">get-pip.py</span></span><br></pre></td></tr></table></figure>

<p><strong>安装依赖</strong></p>
<p>在命令行运行：</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip <span class="keyword">install</span> -r requirements.txt</span><br></pre></td></tr></table></figure>

<h2 id="第二步：配置文件"><a href="#第二步：配置文件" class="headerlink" title="第二步：配置文件"></a>第二步：配置文件</h2><p><strong>代码结构</strong></p>
<p>这是源代码结构：</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16538347716469.png"></p>
<p>main.py：源代码文件<br>trait-layers：输入的素材文件<br>setup.txt：输入的配置文件<br>metadata：输出的特征文件<br>images：输出的图片文件</p>
<p>metadata，images作为输出文件夹，不需要管，main.py作为源代码，也不需要理会，要使用这个代码批量生成NFT，需要设置trait-layers素材文件夹，以及setup.txt配置文件。</p>
<p><strong>配置文件</strong></p>
<p>这是配置文件的setup.txt的内容：</p>
<p><img src="/media/16614248996629.png"></p>
<p>这个设置里面，有六个图层（图层数量不限制，可以无限增加），第一个图层在最下面，最后一个图层在最上面；</p>
<p>每个图层有三行设置，第一行是图层对应的文件夹名，第二行是图层对应的素材文件名，素材文件就在文件夹下，第三行是针对每一个素材文件的概率，也就是稀有度。</p>
<p>这是素材文件夹的样子：</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16538356514520.png"></p>
<p>与配置文件夹是一一对应的，图层文件夹名字与配置文件一样，文件夹下的素材名字，也和配置文件一样。</p>
<p>这里不限制图层数量，只要把图层素材文件夹，以及配置文件夹一一配置好就可以。</p>
<p>配置好了之后，就可以运行代码了。</p>
<p><strong>运行代码</strong></p>
<p>在命令行，直接进入这个文件夹的位置，运行命令就可以：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">python3</span> main.<span class="keyword">py</span></span><br></pre></td></tr></table></figure>

<p>运行之后，输出的图像就在images的文件夹下面:<br><img src="http://luwenjuan.luyuedan.com/mweb/16538359800068.png"></p>
<h2 id="第三步：修改代码"><a href="#第三步：修改代码" class="headerlink" title="第三步：修改代码"></a>第三步：修改代码</h2><p>代码在main.py里面，用任意文本编辑器打开代码，可以随意修改，以下是代码的功能说明：</p>
<blockquote>
<p>read_setup()函数读取setup配置，将所有的素材和配置读入项目中；</p>
<p>create_new_image()生成一张新的图片元文件，为了保证每个图片都独一无二，每次生成的时候都会检查；</p>
<p>add_tokenId()为每一个图片生成唯一的ID；</p>
<p>write_metadata()将图片元文件写入元文件文件夹中，名字和图片编号一一对应；</p>
<p>generate_images()将图片元文件与素材对应，并按照图层顺序合成新的图片文件；</p>
</blockquote>
<p>图片数量是在源代码中修改的，这里是100张，你可以修改成你想要的张数，但是不能超过你的素材最多能生成的图片数量哦。</p>
<p><img src="/media/16614249321821.png"></p>
<p>其他地方没有什么可修改的，如果你想要源码，欢迎加我微信：<strong>13246411679</strong>。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/17/Hexo/mac%E6%90%AD%E5%BB%BAhexo+github%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/luwenjuan.jpeg">
      <meta itemprop="name" content="卢文娟">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="卢文娟">
      <meta itemprop="description" content="微信: 13246411679">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 卢文娟">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/17/Hexo/mac%E6%90%AD%E5%BB%BAhexo+github%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" class="post-title-link" itemprop="url">mac搭建hexo+github+mweb个人博客</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-17 15:21:41" itemprop="dateCreated datePublished" datetime="2022-07-17T15:21:41+08:00">2022-07-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-07-18 15:45:49" itemprop="dateModified" datetime="2022-07-18T15:45:49+08:00">2022-07-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/hexo/" itemprop="url" rel="index"><span itemprop="name">hexo</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    <a title="mac搭建hexo+github+mweb个人博客" href="/2022/07/17/Hexo/mac%E6%90%AD%E5%BB%BAhexo+github%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/#SOHUCS" itemprop="discussionUrl">
      <span id="sourceId::ef3bb277a7d488941ac2657be087a39d" class="cy_cmt_count" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="hexo，github，mweb的作用"><a href="#hexo，github，mweb的作用" class="headerlink" title="hexo，github，mweb的作用"></a>hexo，github，mweb的作用</h2><p>在搭建博客前，我们先了解一下，这三个工具在整个过程中，分别扮演什么角色。</p>
<p>◾️<strong>mweb</strong>：轻松的写markdown格式的文章，管理markdown文章；</p>
<p>◾️<strong>hexo</strong>：将markdown格式的文章渲染成静态网页，管理markdown博客网站；</p>
<p>◾️<strong>github</strong>：采用GitHub pages来托管我们的博客网站，让其他人也能访问我们的站点；</p>
<p>大致了解它们的角色后，你可能还不明白，没关系，我们直接开始配置。</p>
<h2 id="新建github仓库"><a href="#新建github仓库" class="headerlink" title="新建github仓库"></a>新建github仓库</h2><p>新建github仓库，用来托管我们的博客网站文件，这里默认你已经注册了github账号。</p>
<p>在仓库目录下，新建一个新的公共仓库，命名为xxx.github.io，xxx是你的github用户名，很简单，这里就不示例了。</p>
<p>新建完仓库之后，按照github pages仓库初始化指引，进行初始化：</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">echo</span> <span class="string">&quot;# 你的用户名.github.io&quot;</span> &gt;&gt; README.md</span><br><span class="line"><span class="symbol">git</span> init    </span><br><span class="line"><span class="symbol">git</span> <span class="keyword">add</span> README.md</span><br><span class="line"><span class="symbol">git</span> commit -m <span class="string">&quot;first commit&quot;</span></span><br><span class="line"><span class="symbol">git</span> remote <span class="keyword">add</span> origin https:<span class="comment">//github.com/你的用户名/你的用户名.github.io.git</span></span><br><span class="line"><span class="symbol">git</span> <span class="keyword">push</span> -u origin master</span><br></pre></td></tr></table></figure>

<p>这里，我最后一句运行出错：</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16580301995391.png"></p>
<h2 id="配置github私钥"><a href="#配置github私钥" class="headerlink" title="配置github私钥"></a>配置github私钥</h2><p>上面出错的原因是，需要使用个人私钥，所以我们去生成私钥：</p>
<blockquote>
<p>点头像 -&gt; settings -&gt;  Developer settings -&gt; Personal access tokens -&gt; Generate new token</p>
</blockquote>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16580303846566.png"></p>
<p>设置好之后点generate token，会出现一个私钥，记得保存下来。</p>
<p>我们把token直接添加远程仓库链接中，这样就可以避免同一个仓库每次提交代码都要输入token了:</p>
<figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">git</span> <span class="string">remote</span> <span class="built_in">set-url</span> <span class="string">origin</span> <span class="string">https</span>://你的私钥@<span class="string">github</span>.<span class="string">com</span>/你的用户名/你的用户名.<span class="string">github</span>.<span class="string">io</span>.<span class="string">git</span></span><br></pre></td></tr></table></figure>

<p>再次运行最后一句：</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">push</span> -u <span class="built_in">origin</span> master</span><br></pre></td></tr></table></figure>

<h2 id="配置ssh-keys"><a href="#配置ssh-keys" class="headerlink" title="配置ssh keys"></a>配置ssh keys</h2><p>在本地生成ssh keys：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.ssh</span><br><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;你的邮箱&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="http://luwenjuan.luyuedan.com/mweb/16580271630817.png"></p>
<p>生成的keys保存在&#x2F;Users&#x2F;luwenjuan&#x2F;.ssh&#x2F;id_rsa.pub中，进入文件，拷贝文件所有内容。</p>
<p>在github中，把ssh keys设置进去：</p>
<blockquote>
<p>点头像 -&gt; settings -&gt; SSH and GPG keys -&gt; New SSH Key：</p>
</blockquote>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16580273097294.png"></p>
<p>将复制的内容粘贴进Key，Title可以为空，最后Add SSH key。</p>
<p>通过以下命令测试是否成功：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ssh</span> -T git<span class="variable">@GitHub</span>.com</span><br></pre></td></tr></table></figure>

<p>如果出现以下界面，表示添加成功</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16580276716027.png"></p>
<h2 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h2><p>安装hexo前，先装node：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https:<span class="regexp">//</span>raw.githubusercontent.com<span class="regexp">/nvm-sh/</span>nvm<span class="regexp">/v0.34.0/i</span>nstall.sh | bash</span><br><span class="line"></span><br><span class="line">command -v nvm</span><br><span class="line"></span><br><span class="line">nvm install node</span><br></pre></td></tr></table></figure>

<p>安装hexo客户端：</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-<span class="keyword">cli</span></span><br></pre></td></tr></table></figure>

<p>使用hexo初始化博客：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hexo init myblog</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> myblog</span><br><span class="line"></span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p>生成静态网页，并在本地启动博客：</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo g</span></span><br><span class="line"><span class="attribute"></span></span><br><span class="line"><span class="attribute">hexo s</span></span><br></pre></td></tr></table></figure>

<p>这是博客网站会在本地启动，可以按照指引用浏览器查看。</p>
<h2 id="将hexo部署到github"><a href="#将hexo部署到github" class="headerlink" title="将hexo部署到github"></a>将hexo部署到github</h2><p>打开配置文件_config.yml，拉入最底部，填上GitHub配置内容：</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16580365469098.png"></p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">deploy:</span></span><br><span class="line"><span class="symbol">  type:</span> git</span><br><span class="line"><span class="symbol">  repository:</span> https:<span class="comment">//github.com/luwenjuan88/luwenjuan88.github.io.git</span></span><br><span class="line"><span class="symbol">  branch:</span> main</span><br></pre></td></tr></table></figure>

<p>这里其实就是给<code>hexo d</code>这个命令做的配置，让hexo知道你要把博客部署在哪个位置，所以要配置到我们的仓库位置。</p>
<p>最后安装Git部署插件，输入命令：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install <span class="comment">--save hexo-deployer-git </span></span><br></pre></td></tr></table></figure>

<p>生成静态网页，并部署更新到github：</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo clean</span></span><br><span class="line"><span class="attribute"></span></span><br><span class="line"><span class="attribute">hexo g</span></span><br><span class="line"><span class="attribute"></span></span><br><span class="line"><span class="attribute">hexo d</span></span><br></pre></td></tr></table></figure>

<p>这时候，在浏览器输入：<code>你的用户名.github.io</code>，就可以看到你的博客了，后续我们增加了文章，就直接使用这三个命令更新即可。</p>
<p>其他常用命令，可以了解一下：</p>
<p>比如写新文章：</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>生成新页面about：</p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> <span class="type">page</span> about</span><br></pre></td></tr></table></figure>

<h2 id="安装theme-next主题"><a href="#安装theme-next主题" class="headerlink" title="安装theme-next主题"></a>安装theme-next主题</h2><p>挑选了一个我喜欢的主题：<a target="_blank" rel="noopener" href="https://github.com/next-theme/hexo-theme-next">https://github.com/next-theme/hexo-theme-next</a></p>
<blockquote>
<p>cd themes<br>git clone <a target="_blank" rel="noopener" href="https://github.com/next-theme/hexo-theme-next">https://github.com/next-theme/hexo-theme-next</a></p>
</blockquote>
<p>在根目录下的 _config.yml 文件中，修改主题配置：</p>
<blockquote>
<p>theme: hexo-theme-next</p>
</blockquote>
<p>修改语言配置：</p>
<blockquote>
<p>language: zh-CN</p>
</blockquote>
<h2 id="配置next主题"><a href="#配置next主题" class="headerlink" title="配置next主题"></a>配置next主题</h2><p>theme-next主题还有更多配置，我目前就随意配置了一下：</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16580524807620.png"></p>
<p>以后会慢慢摸索更好看的配置，到时候再更新相关文章。</p>
<p>你可以自行学习，这个网址有说明：<a target="_blank" rel="noopener" href="https://theme-next.js.org/docs/">https://theme-next.js.org/docs/</a></p>
<h2 id="使用mweb编辑hexo文章"><a href="#使用mweb编辑hexo文章" class="headerlink" title="使用mweb编辑hexo文章"></a>使用mweb编辑hexo文章</h2><p>MWeb默认是文档库模式，需要启动外部模式，启动方法：</p>
<blockquote>
<p>方法一：文件 -&gt; 打开外部模式</p>
<p>方法二：command + E 快捷键</p>
<p>方法三：在”偏好设置”中勾选”启动时默认打开外部模式”</p>
</blockquote>
<p>切换到外部模式后，就把hexo的_post目录添加进来：</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16580429925865.png"></p>
<p>直接在目录下新建文章，然后按照hexo的格式来写就可以了。</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/%E6%88%AA%E5%B1%8F2022-07-17%20%E4%B8%8B%E5%8D%883.34.18.png" alt="截屏2022-07-17 下午3.34.18"></p>
<p>写完文章后，在hexo站点目录下，运行：</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo clean</span></span><br><span class="line"><span class="attribute"></span></span><br><span class="line"><span class="attribute">hexo g</span></span><br><span class="line"><span class="attribute"></span></span><br><span class="line"><span class="attribute">hexo d</span></span><br></pre></td></tr></table></figure>

<p>就发布成功了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/17/%E5%85%83%E5%AE%87%E5%AE%99/%E5%9B%BD%E5%86%85%E5%92%8C%E5%9B%BD%E5%A4%96%E5%85%83%E5%AE%87%E5%AE%99%E7%9A%84%E5%8C%BA%E5%88%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/luwenjuan.jpeg">
      <meta itemprop="name" content="卢文娟">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="卢文娟">
      <meta itemprop="description" content="微信: 13246411679">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 卢文娟">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/17/%E5%85%83%E5%AE%87%E5%AE%99/%E5%9B%BD%E5%86%85%E5%92%8C%E5%9B%BD%E5%A4%96%E5%85%83%E5%AE%87%E5%AE%99%E7%9A%84%E5%8C%BA%E5%88%AB/" class="post-title-link" itemprop="url">卢文娟：国内和国外元宇宙的区别</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-17 15:21:41" itemprop="dateCreated datePublished" datetime="2022-07-17T15:21:41+08:00">2022-07-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-08-29 14:40:01" itemprop="dateModified" datetime="2022-08-29T14:40:01+08:00">2022-08-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%85%83%E5%AE%87%E5%AE%99/" itemprop="url" rel="index"><span itemprop="name">元宇宙</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    <a title="卢文娟：国内和国外元宇宙的区别" href="/2022/07/17/%E5%85%83%E5%AE%87%E5%AE%99/%E5%9B%BD%E5%86%85%E5%92%8C%E5%9B%BD%E5%A4%96%E5%85%83%E5%AE%87%E5%AE%99%E7%9A%84%E5%8C%BA%E5%88%AB/#SOHUCS" itemprop="discussionUrl">
      <span id="sourceId::51d86dd8109a00cb9400814644c0b108" class="cy_cmt_count" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>由于很多人会疑惑，国内怎么一边积极建设元宇宙，一边又把元宇宙管的这么严，我最开始也会疑惑，现在有些明白了。</p>
<p>国内元宇宙和国外元宇宙最大的区别，就是<strong>国内在构建全面的监管体系</strong>，而<strong>国外的是无监管的法外之地</strong>。</p>
<p>之前说过，元宇宙发展到最终，<strong>必然会形成成熟的监管体系</strong>，因为这样的元宇宙才是适合所有普通人生存的。</p>
<p>那么国外的元宇宙没有作用吗？当然不是，事情有利必有弊！</p>
<blockquote>
<p>国外没有监管，所以飞速的蓬勃发展，迭代更新很快，是自下而上蜿蜒曲折的向终点奔去；</p>
<p>国内的监管看起来似乎限制了发展，但是它站在更高的维度，是自上而下的布局，也就是在终点等风来；</p>
</blockquote>
<p>这种发展方式，和国内国外哲学的发展方式，也有异曲同工之妙，国外自下而上，国内自上而下。自上而下的智慧，是传统文化的智慧。</p>
<p>两种路径各有长短，自下而上的技术发展，可以形成更多经验，这样的技术经验，再装入自上而下的框架，会缩短整个发展进程。</p>
<p>清楚了这样的关系，那么国内国外在元宇宙中，分别扮演什么角色，就很清晰了。</p>
<p><strong>当把发达的技术，用在合理成熟的监管框架下，会让更多的人受益。</strong></p>
<p>-End-</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/13/%E5%85%83%E5%AE%87%E5%AE%99/N4-%E5%89%8D5000%E5%A4%A9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/luwenjuan.jpeg">
      <meta itemprop="name" content="卢文娟">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="卢文娟">
      <meta itemprop="description" content="微信: 13246411679">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 卢文娟">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/13/%E5%85%83%E5%AE%87%E5%AE%99/N4-%E5%89%8D5000%E5%A4%A9/" class="post-title-link" itemprop="url">NFT初探：为什么《每一天：前5000天》值6900万？</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-13 15:21:41" itemprop="dateCreated datePublished" datetime="2022-07-13T15:21:41+08:00">2022-07-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-08-25 20:18:47" itemprop="dateModified" datetime="2022-08-25T20:18:47+08:00">2022-08-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/NFT/" itemprop="url" rel="index"><span itemprop="name">NFT</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    <a title="NFT初探：为什么《每一天：前5000天》值6900万？" href="/2022/07/13/%E5%85%83%E5%AE%87%E5%AE%99/N4-%E5%89%8D5000%E5%A4%A9/#SOHUCS" itemprop="discussionUrl">
      <span id="sourceId::2e18c5a5e12cd07242ad7ecd97b8663e" class="cy_cmt_count" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>你一定知道有一个NFT《每一天：前5000天》曾经被拍卖6900万，但是你知道它为什么值这么多钱呢？</p>
<p>这幅画是一位素人艺术家Beeple，过去十三年里，每天坚持画一幅原创作品，汇集成的一张巨大的图像。</p>
<p>它之所以值钱，是因为两点：</p>
<h2 id="第一：它是积微成著的结果"><a href="#第一：它是积微成著的结果" class="headerlink" title="第一：它是积微成著的结果"></a>第一：它是积微成著的结果</h2><p>我们知道，积微成著的慢性病最难治，而积微成著的作品也最有价值；</p>
<p>画一幅作品不厉害，画5000幅作品也没什么厉害的，但连续十三年每天一幅作品，却是非常稀缺的，只有你真正的去积微成著，你就知道积微成著的价值。</p>
<h2 id="第二：它带着时间信息"><a href="#第二：它带着时间信息" class="headerlink" title="第二：它带着时间信息"></a>第二：它带着时间信息</h2><p>谁会在过去十三年，每天原创一幅作品，还保留下来了，最后形成一幅图。</p>
<p>基本上做不到，就算从现在开始，要完成这么一幅图，也要花十三年，而且每天不间断才能做到，所以它不是短时间能实现的，而是带着时间的信息。</p>
<p>带着时间信息的东西就是自带稀缺性的，因为时间一去不复返。</p>
<h2 id="第三：它是连续的"><a href="#第三：它是连续的" class="headerlink" title="第三：它是连续的"></a>第三：它是连续的</h2><p>如果是多年不连续的画作，比如今天画一幅，明天画两幅，后天不画，这也不稀缺。</p>
<p>最稀缺的是每天一幅，还不间断。</p>
<p>正是因为这些原因，造成它天然的稀缺，这种稀缺是无法打破的，所以它才能那么值钱。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/02/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%881%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/luwenjuan.jpeg">
      <meta itemprop="name" content="卢文娟">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="卢文娟">
      <meta itemprop="description" content="微信: 13246411679">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 卢文娟">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/02/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%881%EF%BC%89/" class="post-title-link" itemprop="url">智能合约项目从0到1：开发环境配置（一）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-02 15:21:41" itemprop="dateCreated datePublished" datetime="2022-07-02T15:21:41+08:00">2022-07-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-08-25 17:59:31" itemprop="dateModified" datetime="2022-08-25T17:59:31+08:00">2022-08-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/" itemprop="url" rel="index"><span itemprop="name">智能合约</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    <a title="智能合约项目从0到1：开发环境配置（一）" href="/2022/07/02/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%881%EF%BC%89/#SOHUCS" itemprop="discussionUrl">
      <span id="sourceId::ac588c00f25968e89edbe375409bad33" class="cy_cmt_count" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>这个过程是在<strong>苹果系统</strong>演示的，如果你的电脑不是苹果系统，你可以在每一个步骤下相对应内容，自己去寻找你的系统的使用方法。</p>
<p>步骤不会有差，但细节可能有些差距。</p>
<h2 id="第一步：安装git"><a href="#第一步：安装git" class="headerlink" title="第一步：安装git"></a>第一步：安装git</h2><p>因为我的电脑之前都没有写过代码，所以连git都没有，如果你有git了，就跳过这一步。</p>
<p>直接在这里下载最新版安装包：<a target="_blank" rel="noopener" href="https://sourceforge.net/projects/git-osx-installer/files/">https://sourceforge.net/projects/git-osx-installer/files/</a></p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16530497660941.png"></p>
<p>下载的是dmg包，下载后，双击安装即可。</p>
<h2 id="第二步：安装npm"><a href="#第二步：安装npm" class="headerlink" title="第二步：安装npm"></a>第二步：安装npm</h2><p>终端运行这句命令安装nvm：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https:<span class="regexp">//</span>raw.githubusercontent.com<span class="regexp">/creationix/</span>nvm<span class="regexp">/v0.39.1/i</span>nstall.sh | bash</span><br></pre></td></tr></table></figure>

<p>根据运行后的提示，如果安装成功，则重启终端，运行以下代码安装npm：</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nvm install <span class="number">16</span></span><br><span class="line">nvm use <span class="number">16</span></span><br><span class="line">nvm alias <span class="keyword">default</span> <span class="number">16</span></span><br><span class="line"><span class="built_in">npm</span> install <span class="built_in">npm</span> --global <span class="comment"># Upgrade npm to the latest version</span></span><br></pre></td></tr></table></figure>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16531034361280.png"></p>
<h2 id="第三步：安装node-js"><a href="#第三步：安装node-js" class="headerlink" title="第三步：安装node.js"></a>第三步：安装node.js</h2><p>下载LTS版本：<a target="_blank" rel="noopener" href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a></p>
<p>下载后，双击安装即可。<br><img src="http://luwenjuan.luyuedan.com/mweb/16531037042095.png"></p>
<p>安装成功，这是node的路径变量：</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16531037711207.png"></p>
<h2 id="第四步：使用hardhat"><a href="#第四步：使用hardhat" class="headerlink" title="第四步：使用hardhat"></a>第四步：使用hardhat</h2><p>hardhat是一个帮助我们构建以太坊开发环境的工具，它还内置了hardhat network，这是专门为开发而设计的本地以太坊网络，让开发人员方便的部署合约，运行测试和调试代码。</p>
<p>现在，我们先创建一个工作文件夹my-wave-portal，cd到这个文件夹后，运行以下代码安装hardhat：</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> init -y</span><br><span class="line"><span class="built_in">npm</span> install --save-dev hardhat</span><br></pre></td></tr></table></figure>

<p>这样，我们就把hardhat下载到本地了，现在我们创建示例项目。</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">npx hardhat</span></span><br></pre></td></tr></table></figure>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16531054105662.png"></p>
<p>要你选择的话，看着无误，就直接回车，选择（Y&#x2F;N）的时候写y，最后我们可以看到，创建完成。</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16531058214647.png"></p>
<p>安装其他依赖包：</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> install --save-dev @nomiclabs/hardhat-waffle ethereum-waffle chai @nomiclabs/hardhat-ethers ethers</span><br></pre></td></tr></table></figure>
<p>然后运行：</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">npx hardhat accounts</span></span><br></pre></td></tr></table></figure>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16531060913328.png"><br>我们可以看到一系列地址，这是hardhat帮我们生成的，模拟以太链真实用户的地址，这些可以帮我们后面测试的时候模拟用户。</p>
<p>最后，我们运行hardhat：</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">npx hardhat compile</span></span><br></pre></td></tr></table></figure>

<p>然后运行做一下测试：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx hardhat <span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16531062071840.png"></p>
<p>说明代码测试没问题了。</p>
<h2 id="第五步：删除不必要的代码"><a href="#第五步：删除不必要的代码" class="headerlink" title="第五步：删除不必要的代码"></a>第五步：删除不必要的代码</h2><p>用vscode打开工作文件夹my-wave-portal，删掉不必要的。</p>
<p>test文件夹下的sample-test.js<br>scripts文件夹下的sample-script.js<br>contracts文件夹下的Greeter.sol</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16531072789824.png"></p>
<p>好了，开发环境配置完成。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/02/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%882%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/luwenjuan.jpeg">
      <meta itemprop="name" content="卢文娟">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="卢文娟">
      <meta itemprop="description" content="微信: 13246411679">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 卢文娟">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/02/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%882%EF%BC%89/" class="post-title-link" itemprop="url">智能合约项目从0到1：成功运行第一个智能合约（二）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-02 15:21:41" itemprop="dateCreated datePublished" datetime="2022-07-02T15:21:41+08:00">2022-07-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-08-25 18:01:27" itemprop="dateModified" datetime="2022-08-25T18:01:27+08:00">2022-08-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/" itemprop="url" rel="index"><span itemprop="name">智能合约</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    <a title="智能合约项目从0到1：成功运行第一个智能合约（二）" href="/2022/07/02/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%882%EF%BC%89/#SOHUCS" itemprop="discussionUrl">
      <span id="sourceId::d32d8ac7c287c62d538c584504eac38b" class="cy_cmt_count" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="第一步：新建contract智能合约类"><a href="#第一步：新建contract智能合约类" class="headerlink" title="第一步：新建contract智能合约类"></a>第一步：新建contract智能合约类</h2><p>在contracts文件夹下新建文件，取名WavePortal.sol，把以下内容复制进去。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SPDX-License-Identifier: UNLICENSED</span></span><br><span class="line"></span><br><span class="line">pragma solidity ^<span class="number">0.8</span><span class="number">.0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;hardhat/console.sol&quot;</span>;</span><br><span class="line"></span><br><span class="line">contract <span class="title class_">WavePortal</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Yo yo, I am a contract and I am smart&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个结构是所有contract文件的固定结构，我们一行行解释。</p>
<p>第一行是注释行，说明这是一个测试代码。</p>
<blockquote>
<p>pragma solidity ^0.8.0;</p>
</blockquote>
<p>这一句是solidity编译器的版本，这里要注意，版本号要和hardhat.config.js文件里面一致。</p>
<blockquote>
<p>import “hardhat&#x2F;console.sol”;</p>
</blockquote>
<p>这一句让我们可以打印一些控制台的log日志，方便后续调试。</p>
<blockquote>
<p>contract WavePortal{…constructor（）…}</p>
</blockquote>
<p>我们创建了一个contract类，当我们创建这个类时，constructor（）方法会运行，所以这里会在控制台打印一行字。</p>
<p>这就是一个最简单的合约，相当于hello word，合约开始时，打印一行字。</p>
<h2 id="代码高亮插件"><a href="#代码高亮插件" class="headerlink" title="代码高亮插件"></a>代码高亮插件</h2><p>你应该看到了，目前我们的代码是没有语法高亮的，所以我们安装一个vscode插件，进入这个网站，点击install即可：<a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=JuanBlanco.solidity">https://marketplace.visualstudio.com/items?itemName=JuanBlanco.solidity</a></p>
<p>可以看到，语法有了高亮区分显示：</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16531088481247.png"></p>
<h2 id="第二步：编译并部署智能合约到本地区块链"><a href="#第二步：编译并部署智能合约到本地区块链" class="headerlink" title="第二步：编译并部署智能合约到本地区块链"></a>第二步：编译并部署智能合约到本地区块链</h2><p>因为智能合约就是运行在区块链上的，所以我们在本地测试，也要模拟这样的环境。</p>
<p>回到vscode，在scripts文件夹下，新建一个文件，取名run.js，将以下代码复制进去。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">const main = async () =&gt; &#123;</span><br><span class="line">  const waveContractFactory = await hre.ethers.getContractFactory(<span class="string">&quot;WavePortal&quot;</span>);</span><br><span class="line">  const waveContract = await waveContractFactory.deploy();</span><br><span class="line">  await waveContract.deployed();</span><br><span class="line">  console.log(<span class="string">&quot;Contract deployed to:&quot;</span>, waveContract.address);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const runMain = async () =&gt; &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    await main();</span><br><span class="line">    process.<span class="keyword">exit</span>(<span class="number">0</span>); <span class="regexp">//</span> <span class="keyword">exit</span> Node process without error</span><br><span class="line">  &#125; catch (error) &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">    process.<span class="keyword">exit</span>(<span class="number">1</span>); <span class="regexp">//</span> <span class="keyword">exit</span> Node process <span class="keyword">while</span> indicating <span class="string">&#x27;Uncaught Fatal Exception&#x27;</span> error</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="regexp">//</span> Read more about Node <span class="keyword">exit</span> (<span class="string">&#x27;process.exit(num)&#x27;</span>) status codes here: https:<span class="regexp">//</span>stackoverflow.com<span class="regexp">/a/</span><span class="number">47163396</span>/<span class="number">7974948</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">runMain();</span><br></pre></td></tr></table></figure>

<p>接下来我们一行一行解释。</p>
<blockquote>
<p>const waveContractFactory &#x3D; await hre.ethers.getContractFactory(“WavePortal”);</p>
</blockquote>
<p>这个将会编译我们的智能合约，并生成一些合约运行必要的文件，这些文件会存放在artifacts路径下，到时候我们运行之后可以去看看是什么样的文件。</p>
<blockquote>
<p>const waveContract &#x3D; await waveContractFactory.deploy();</p>
</blockquote>
<p>这里，hardhat将会为我们的智能合约创建一个本地以太坊网络，而当我们的脚本运行完成，这个本地网络也会销毁；所以我们每次运行的时候，都是一个全新的以太坊网络，方便我们做调试。</p>
<blockquote>
<p>await waveContract.deployed();</p>
</blockquote>
<p>等待智能合约部署到我们的本地以太坊网络，当合约部署完成后，合约的constructor方法就会运行。</p>
<blockquote>
<p>console.log(“Contract deployed to:”, waveContract.address);</p>
</blockquote>
<p>最后，当智能合约部署完成，我们会得到一个智能合约地址，就是这个字段waveContract.address，这个地址可以帮助我们在区块链上找到智能合约，我们把地址打印到控制台。</p>
<h2 id="第三步：运行智能合约"><a href="#第三步：运行智能合约" class="headerlink" title="第三步：运行智能合约"></a>第三步：运行智能合约</h2><p>在终端运行命令：</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx hardhat <span class="built_in">run</span> scripts/<span class="built_in">run</span>.js</span><br></pre></td></tr></table></figure>

<p>可以看到运行成功，终端成功打印了智能合约的内容，以及智能合约的地址。<br><img src="http://luwenjuan.luyuedan.com/mweb/16531118818321.png"></p>
<p>我们应该在前面的代码里面看到了hre，hre其实就是hardhat的运行环境（Hardhat Runtime Environment）的对象，只要在运行这样的项目，就可以随时通过它调用hardhat提供的方法。</p>
<p>这样我们就成功运行了第一个智能合约！</p>
<p>我们刚刚说要看一下这个artifacts里面生成的文件，就是这样的：</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16531124823281.png"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/02/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%883%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/luwenjuan.jpeg">
      <meta itemprop="name" content="卢文娟">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="卢文娟">
      <meta itemprop="description" content="微信: 13246411679">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 卢文娟">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/02/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%883%EF%BC%89/" class="post-title-link" itemprop="url">智能合约项目从0到1：成功部署属于自己的智能合约（三）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-02 15:21:41" itemprop="dateCreated datePublished" datetime="2022-07-02T15:21:41+08:00">2022-07-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-08-25 18:02:40" itemprop="dateModified" datetime="2022-08-25T18:02:40+08:00">2022-08-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/" itemprop="url" rel="index"><span itemprop="name">智能合约</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    <a title="智能合约项目从0到1：成功部署属于自己的智能合约（三）" href="/2022/07/02/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%883%EF%BC%89/#SOHUCS" itemprop="discussionUrl">
      <span id="sourceId::95e0a3c91b6ffea45140a55f5184a3f2" class="cy_cmt_count" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="第一步：修改智能合约"><a href="#第一步：修改智能合约" class="headerlink" title="第一步：修改智能合约"></a>第一步：修改智能合约</h2><p>现在我们写一下更复杂的智能合约，比如允许别人给我们打个招呼，并保存别人给我们打的招呼。</p>
<p>首先，我们需要一个方法，当他们给我们打招呼的时候调用。</p>
<p>所以，我们更新了我们的contract类，让它可以保存别人的招呼。</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SPDX-License-Identifier: UNLICENSED</span></span><br><span class="line"></span><br><span class="line">pragma solidity ^<span class="number">0.8</span><span class="number">.0</span>;</span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;hardhat/console.sol&quot;</span>;</span><br><span class="line"></span><br><span class="line">contract WavePortal &#123;</span><br><span class="line">    uint256 totalWaves;</span><br><span class="line"></span><br><span class="line">    constructor() &#123;</span><br><span class="line">        <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&quot;Yo yo, I am a contract and I am smart&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">wave</span>(<span class="params"></span>) <span class="title function_">public</span> &#123;</span><br><span class="line">        totalWaves += <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&quot;%s has waved!&quot;</span>, msg.sender);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">getTotalWaves</span>(<span class="params"></span>) <span class="title function_">public</span> <span class="title function_">view</span> <span class="title function_">returns</span> (<span class="params">uint256</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&quot;We have %d total waves!&quot;</span>, totalWaves);</span><br><span class="line">        <span class="keyword">return</span> totalWaves;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们增加了一个变量totalWaves来保存打招呼的数量，这个变量初始值是0，而且它会永久保存。</p>
<p>我们还可以看到一个变量msg.sender，这个是调用这个方法的人的钱包地址，这个就可以做身份鉴定，因为我们知道调用这个方法具体的人。</p>
<p>所以说，想要在一个智能合约系统行动，哪怕做任何小的动作，都必须拥有一个钱包，而且在调用之前连接钱包，真正实现智能合约记录每一个人的行为。</p>
<p>因为有这样的功能，我们甚至可以写一些特殊合约，只有特定的某些钱包地址可以访问。</p>
<h2 id="第二步：修改调用函数"><a href="#第二步：修改调用函数" class="headerlink" title="第二步：修改调用函数"></a>第二步：修改调用函数</h2><p>当我们把智能合约部署到区块链以后，我们可以在区块链访问智能合约里的public函数。</p>
<p>这里我们需要修改一下run.js，来访问智能合约的函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">main</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> [owner, randomPerson] = <span class="keyword">await</span> hre.<span class="property">ethers</span>.<span class="title function_">getSigners</span>();</span><br><span class="line">  <span class="keyword">const</span> waveContractFactory = <span class="keyword">await</span> hre.<span class="property">ethers</span>.<span class="title function_">getContractFactory</span>(<span class="string">&quot;WavePortal&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> waveContract = <span class="keyword">await</span> waveContractFactory.<span class="title function_">deploy</span>();</span><br><span class="line">  <span class="keyword">await</span> waveContract.<span class="title function_">deployed</span>();</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Contract deployed to:&quot;</span>, waveContract.<span class="property">address</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Contract deployed by:&quot;</span>, owner.<span class="property">address</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> waveCount;</span><br><span class="line">  waveCount = <span class="keyword">await</span> waveContract.<span class="title function_">getTotalWaves</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> waveTxn = <span class="keyword">await</span> waveContract.<span class="title function_">wave</span>();</span><br><span class="line">  <span class="keyword">await</span> waveTxn.<span class="title function_">wait</span>();</span><br><span class="line"></span><br><span class="line">  waveCount = <span class="keyword">await</span> waveContract.<span class="title function_">getTotalWaves</span>();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">runMain</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">main</span>();</span><br><span class="line">    process.<span class="title function_">exit</span>(<span class="number">0</span>);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    process.<span class="title function_">exit</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">runMain</span>();</span><br></pre></td></tr></table></figure>

<p>这里我们解释一下：</p>
<blockquote>
<p>const [owner, randomPerson] &#x3D; await hre.ethers.getSigners();</p>
</blockquote>
<p>想要部署合约到区块链，我们需要钱包地址，hardhat会帮我们生成一些测试地址。</p>
<p>这里我们随机生成一些合约的钱包地址，还有用户的钱包地址。</p>
<blockquote>
<p>console.log(“Contract deployed by:”, owner.address);</p>
</blockquote>
<p>这里打印了我们的合约部署的地址。</p>
<p>这里说明一下区块链和智能合约的关系，你可以想象成为云端服务器，但他们不属于某个人，他们由世界各地的挖矿计算机运行，这些人成为挖矿者。</p>
<p>他们帮我们运行代码，然后得到回报，而具体是由谁运行，那就是通过区块链的底层运行机制来选择了，你可以百度了解一下。</p>
<p>所以这些我们合约部署的地址，也就是帮我们运行代码的地址了。</p>
<blockquote>
<p>let waveCount;<br>waveCount &#x3D; await waveContract.getTotalWaves();</p>
<p>let waveTxn &#x3D; await waveContract.wave();<br>await waveTxn.wait();</p>
<p>waveCount &#x3D; await waveContract.getTotalWaves();</p>
</blockquote>
<p>这几句代码调用函数，首先我们获取所有的招呼数量，其次我打个招呼，然后我再获取一下招呼数量。</p>
<h2 id="第三步：运行试试看"><a href="#第三步：运行试试看" class="headerlink" title="第三步：运行试试看"></a>第三步：运行试试看</h2><p>再次运行代码看看效果：</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx hardhat <span class="built_in">run</span> scripts/<span class="built_in">run</span>.js</span><br></pre></td></tr></table></figure>

<p><img src="http://luwenjuan.luyuedan.com/mweb/16531148661918.png"></p>
<p>你可以看到，部署智能合约的地址，和打招呼的地址是一样的，也就是，我自己在给自己打招呼。</p>
<h2 id="第四步：使用其他用户测试"><a href="#第四步：使用其他用户测试" class="headerlink" title="第四步：使用其他用户测试"></a>第四步：使用其他用户测试</h2><p>我们继续修改run.js，来让其他用户给自己打招呼。</p>
<p>其他地方不用修改，我们增加了三行：</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">waveTxn</span> <span class="operator">=</span> await waveContract.connect(randomPerson).wave()<span class="comment">;</span></span><br><span class="line">await waveTxn.wait()<span class="comment">;</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">waveCount</span> <span class="operator">=</span> await waveContract.getTotalWaves()<span class="comment">;</span></span><br></pre></td></tr></table></figure>

<p>我们修改的部分，其实就是在打招呼前，连接一下用户randomPerson的钱包地址。</p>
<p>再运行一下：</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx hardhat <span class="built_in">run</span> scripts/<span class="built_in">run</span>.js</span><br></pre></td></tr></table></figure>

<p><img src="http://luwenjuan.luyuedan.com/mweb/16531156871153.png"></p>
<p>我们可以看到，一共有两个打了招呼，一个是自己，还有一个是随机生成的用户。</p>
<h2 id="第五步：做一些更有意思的改动"><a href="#第五步：做一些更有意思的改动" class="headerlink" title="第五步：做一些更有意思的改动"></a>第五步：做一些更有意思的改动</h2><p>至此，其实智能合约的大概框架，都已经知道了，现在你可以考虑你想要做一个什么样的功能，并修改智能合约的内容。</p>
<p>这里我想要统计不同用户打招呼的次数，你要怎么修改代码呢，欢迎讨论。</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16531246057041.png"></p>
<h2 id="第六步：部署持久运行的智能合约"><a href="#第六步：部署持久运行的智能合约" class="headerlink" title="第六步：部署持久运行的智能合约"></a>第六步：部署持久运行的智能合约</h2><p>前面每次运行，都是部署后，运行完成就退出了，这里我们部署一个稳定运行的智能合约，我们随时可以和它交互。</p>
<p>因为智能合约是运行在区块链上的，那么现在，我们在本地部署一个区块链网络，我们新开一个终端，运行（这个终端运行后不能关，所以我们重新开一个）：</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx hardhat <span class="keyword">node</span><span class="title"></span></span><br></pre></td></tr></table></figure>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16531253214365.png"></p>
<p>我们已经在本地部署了区块链，但是目前区块链是空的，还没有任何节点，所以现在我们生成一个新的节点，并让我们的智能合约在上面运行。</p>
<p>在scripts文件夹，我们创建一个文件deploy.js，这是代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">main</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> [deployer] = <span class="keyword">await</span> hre.<span class="property">ethers</span>.<span class="title function_">getSigners</span>();</span><br><span class="line">  <span class="keyword">const</span> accountBalance = <span class="keyword">await</span> deployer.<span class="title function_">getBalance</span>();</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Deploying contracts with account: &quot;</span>, deployer.<span class="property">address</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Account balance: &quot;</span>, accountBalance.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> waveContractFactory = <span class="keyword">await</span> hre.<span class="property">ethers</span>.<span class="title function_">getContractFactory</span>(<span class="string">&quot;WavePortal&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> waveContract = <span class="keyword">await</span> waveContractFactory.<span class="title function_">deploy</span>();</span><br><span class="line">  <span class="keyword">await</span> waveContract.<span class="title function_">deployed</span>();</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;WavePortal address: &quot;</span>, waveContract.<span class="property">address</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">runMain</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">main</span>();</span><br><span class="line">    process.<span class="title function_">exit</span>(<span class="number">0</span>);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    process.<span class="title function_">exit</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">runMain</span>();</span><br></pre></td></tr></table></figure>

<p>好的，回到原来的终端，我们运行命令：</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx hardhat <span class="built_in">run</span> scripts/deploy.js <span class="comment">--network localhost</span></span><br></pre></td></tr></table></figure>
<p>可以看到这样的结果：<br><img src="http://luwenjuan.luyuedan.com/mweb/16531256609593.png"></p>
<p>我们部署了智能合约，也在区块链有了地址，在我们本地区块链网络上，我们也能看到相应的信息：</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16531258246573.png"></p>
<p>可以看到Block #1，是指这是区块链的第一个节点。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/02/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%884%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/luwenjuan.jpeg">
      <meta itemprop="name" content="卢文娟">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="卢文娟">
      <meta itemprop="description" content="微信: 13246411679">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 卢文娟">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/02/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%884%EF%BC%89/" class="post-title-link" itemprop="url">智能合约项目从0到1：部署智能合约到测试链（四）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-02 15:21:41" itemprop="dateCreated datePublished" datetime="2022-07-02T15:21:41+08:00">2022-07-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-08-25 18:11:39" itemprop="dateModified" datetime="2022-08-25T18:11:39+08:00">2022-08-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/" itemprop="url" rel="index"><span itemprop="name">智能合约</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    <a title="智能合约项目从0到1：部署智能合约到测试链（四）" href="/2022/07/02/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%884%EF%BC%89/#SOHUCS" itemprop="discussionUrl">
      <span id="sourceId::4692e0bc7bc94a937669caf2666b019e" class="cy_cmt_count" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="注册Metamask钱包"><a href="#注册Metamask钱包" class="headerlink" title="注册Metamask钱包"></a>注册Metamask钱包</h2><p>为什么我们需要注册钱包呢？</p>
<p>在前面我们说过，我们想要访问区块链上的智能合约，是必须要先连接钱包，获取钱包地址和私钥。</p>
<p>之前在本地测试时，是使用工具生成的钱包地址，但是在真实的网络环境，我们就需要注册真实的钱包地址了。</p>
<p>注册钱包的地址：<a target="_blank" rel="noopener" href="https://metamask.io/">https://metamask.io/</a></p>
<h2 id="部署智能合约到真实的测试网络"><a href="#部署智能合约到真实的测试网络" class="headerlink" title="部署智能合约到真实的测试网络"></a>部署智能合约到真实的测试网络</h2><p>之前我们是把智能合约部署到本地了，现在我们尝试开始部署到真实的网络上，我们使用Alchemy工具。</p>
<p>我们先注册一个账号：<a target="_blank" rel="noopener" href="https://www.alchemy.com/">https://www.alchemy.com/</a></p>
<p>区块链不属于某个人，而是一系列的分布于全世界的有一份区块链拷贝的电脑，这些电脑被区块链矿工运行，如果我们想要把我们的智能合约部署到区块链上，我们需要告诉所有矿工，请你把我的智能合约加入区块链，并告诉其他所有人。</p>
<p>Alchemy的作用就是帮助我们广播我们的智能合约，让矿工尽快把我们的智能合约加入区块链。</p>
<p>当我们注册好了Alchemy之后，我们需要获取测试网络的API key，点击get started，这里我们随意填，最后一个，我们选择一个测试链Rinkeby，创建app。</p>
<p>为什么要选择测试链呢？因为如果选真实链，那个花的就是真实的钱呀，我们只有在测试完成没问题才上真实链。这个测试链是以太链的一个拷贝，是真实的矿工在运行，但是用的是虚假的钱，除了钱是假的，其他都是真的。</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16614220347875.png"></p>
<p>然后我们就可以看到我们的测试app了。<br><img src="http://luwenjuan.luyuedan.com/mweb/16531344976350.png"></p>
<p>点进去可以看到，这个view key，这个http字段是将要在小狐狸钱包还有hardhat里面设置的。</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16614220556411.png"></p>
<p>好了，接下来我们要做的就是：</p>
<blockquote>
<p>广播我们的智能合约上链请求</p>
<p>等待请求被真实矿工执行</p>
<p>等待智能合约上链</p>
<p>等待链上所有节点都更新了他们的拷贝</p>
</blockquote>
<h2 id="获取测试币"><a href="#获取测试币" class="headerlink" title="获取测试币"></a>获取测试币</h2><p>因为真实的区块链需要的是真钱，测试的区块链除了钱是假的，其他都是真的，所以我们需要去向这个测试网络申请一些测试币，当然这个测试币只能在测试网络使用。</p>
<p>在申请测试币之前，我们的小狐狸钱包也要添加这个测试链，url是刚刚查看的http字段，ID是4，不用管红色字体，保存即可。</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16531363333590.png"></p>
<p>当我们的小狐狸钱包连接到了测试链，我们进入这个网址申请测试币：<a target="_blank" rel="noopener" href="https://app.mycrypto.com/faucet">https://app.mycrypto.com/faucet</a></p>
<p>第一次点进去的时候，需要连接小狐狸钱包，连接成功后，我们退出网站再次进入，就会有这样的界面：</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16531367396079.png"></p>
<p>选择我们的钱包账号，request即可。</p>
<h2 id="部署到Rinkeby测试链"><a href="#部署到Rinkeby测试链" class="headerlink" title="部署到Rinkeby测试链"></a>部署到Rinkeby测试链</h2><p>要配置测试链，我们要修改代码的hardhat.config.js文件，由于这个文件涉及到账号的key，所以我们用一个工具来保护这个key：</p>
<p>在终端运行：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install <span class="comment">--save dotenv</span></span><br></pre></td></tr></table></figure>

<p>hardhat.config.js文件内容：</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">require(<span class="string">&quot;@nomiclabs/hardhat-waffle&quot;</span>)<span class="punctuation">;</span></span><br><span class="line"><span class="comment">// Import and configure dotenv</span></span><br><span class="line">require(<span class="string">&quot;dotenv&quot;</span>).config()<span class="punctuation">;</span></span><br><span class="line"></span><br><span class="line">module.<span class="attr">exports</span> <span class="operator">=</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="symbol">  solidity:</span> <span class="string">&quot;0.8.0&quot;</span>,</span><br><span class="line"><span class="symbol">  networks:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="symbol">    rinkeby:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="comment">// This value will be replaced on runtime</span></span><br><span class="line"><span class="symbol">      url:</span> process.env.STAGING_ALCHEMY_KEY,</span><br><span class="line"><span class="symbol">      accounts:</span> [process.env.PRIVATE_KEY],</span><br><span class="line">    <span class="punctuation">&#125;</span>,</span><br><span class="line"><span class="symbol">    mainnet:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="symbol">      chainId:</span> <span class="number">1</span>,</span><br><span class="line"><span class="symbol">      url:</span> process.env.PROD_ALCHEMY_KEY,</span><br><span class="line"><span class="symbol">      accounts:</span> [process.env.PRIVATE_KEY],</span><br><span class="line">    <span class="punctuation">&#125;</span>,</span><br><span class="line">  <span class="punctuation">&#125;</span>,</span><br><span class="line"><span class="punctuation">&#125;;</span></span><br></pre></td></tr></table></figure>
<p>在项目的根目录，创建一个.env文件：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">STAGING_ALCHEMY_KEY</span>=REPLACE_WITH_ACTUAL_ALCHEMY_URL</span><br><span class="line"><span class="attribute">PROD_ALCHEMY_KEY</span>=BLAHBLAH</span><br><span class="line">PRIVATE_KEY=</span><br></pre></td></tr></table></figure>

<p>这里第一个URL是我们的前面看到的Alchemy里面的http字段;</p>
<p>private key是小狐狸钱包里面的，在小狐狸钱包里，切换网络到Rinkeby网络，点击右上角三个点-&gt;账户详情-&gt;导出私钥</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16614220767024.png"></p>
<p>.env文件不要上传到公网，因为这个key和你主网络的key是一样的，所以把.env文件加入.gitignore文件中。</p>
<p>在终端运行以下命令：</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx hardhat <span class="built_in">run</span> scripts/deploy.js <span class="comment">--network rinkeby</span></span><br></pre></td></tr></table></figure>

<p>可以看到，这个命令和之前命令不同地方在于，之前使用localhost，而这里使用了rinkeby。</p>
<p>ok，可以看到，运行成功。</p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16531421564979.png"></p>
<p>请记住最后一个address，这个在后面需要使用：0xc850155CB95A1a73e9a1FA4ca0cF96089112b744。</p>
<p>使用这个address，我们也可以在区块链浏览器上搜索到我们的智能合约：<a target="_blank" rel="noopener" href="https://rinkeby.etherscan.io/">https://rinkeby.etherscan.io/</a></p>
<p><img src="http://luwenjuan.luyuedan.com/mweb/16531422466407.png"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">卢文娟</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  




<script class="next-config" data-name="changyan" type="application/json">{"enable":true,"appid":"cywbdqFL8","appkey":"1e0802ef26195d974f4576578a580da3"}</script>
<script src="/js/third-party/comments/changyan.js"></script>

</body>
</html>
